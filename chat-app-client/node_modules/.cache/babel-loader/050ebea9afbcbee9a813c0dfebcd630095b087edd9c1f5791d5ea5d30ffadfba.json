{"ast":null,"code":"var _jsxFileName = \"/Users/kobepane/Documents/CIT 382/chat-app/chat-app-client/src/chat.js\",\n  _s = $RefreshSig$();\n/*\nChat component for the chat application\n*/\n\nimport \"./chat.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport Example from \"./piechart\";\nimport React, { useState, useEffect } from \"react\";\n\n// Websocket imports\nimport { io } from \"socket.io-client\";\n\n/*\nNeed to open up a websocket server for users on a url and port\nwhen a message is received on the websocket, we need an event handler to add that message to the messages state variable \nand then be mapped onto the front end \nwhen the send button is clicked, we need an event handler to send that message which is kept in a state variable through the \nwebsocket, and then clear the state variable\n*/\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:3001\");\nfunction Chat(props) {\n  _s();\n  const {\n    username,\n    country,\n    chat,\n    example_users\n  } = props;\n  const navigate = useNavigate();\n\n  // State Variables for message in text box and messages array\n  const [message, setMessage] = useState(\"\");\n  const [chatMessages, setChatMessages] = useState([]);\n  function handleTextChange(e) {\n    setMessage(e.target.value);\n  }\n  useEffect(() => {\n    socket.on(\"connect\", () => {\n      socket.on(\"welcome\", data => {\n        console.log(data);\n      });\n      socket.emit(\"msg\", \"Message from Client\");\n    });\n    return () => {\n      socket.off(\"connect\");\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item users\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-list-parent\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"users-header\",\n            children: [\"Users(\", example_users.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"users-list\",\n            children: example_users.map(user => {\n              return /*#__PURE__*/_jsxDEV(\"p\", {\n                children: user.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 24\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"leave-button\",\n          onClick: () => {\n            navigate(\"/\");\n          },\n          children: \"Leave Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item chat\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-header item\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Chat Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-messages item\",\n          children: \"Chat Messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-textbox item\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: message,\n            placeholder: \"Type a message...\",\n            className: \"chat-inputbox item\",\n            onChange: handleTextChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"send-button-div\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"send-button\",\n              children: \"Send\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item chart\",\n        children: /*#__PURE__*/_jsxDEV(Example, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"geuoot/KenjKK7oTYjZwMg0Frsc=\", false, function () {\n  return [useNavigate];\n});\n_c = Chat;\nexport { Chat };\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["useNavigate","Example","React","useState","useEffect","io","jsxDEV","_jsxDEV","socket","Chat","props","_s","username","country","chat","example_users","navigate","message","setMessage","chatMessages","setChatMessages","handleTextChange","e","target","value","on","data","console","log","emit","off","children","className","length","fileName","_jsxFileName","lineNumber","columnNumber","map","user","id","onClick","placeholder","onChange","_c","$RefreshReg$"],"sources":["/Users/kobepane/Documents/CIT 382/chat-app/chat-app-client/src/chat.js"],"sourcesContent":["/*\nChat component for the chat application\n*/\n\nimport \"./chat.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport Example from \"./piechart\";\nimport React, { useState, useEffect } from \"react\";\n\n// Websocket imports\nimport { io } from \"socket.io-client\";\n\n/*\nNeed to open up a websocket server for users on a url and port\nwhen a message is received on the websocket, we need an event handler to add that message to the messages state variable \nand then be mapped onto the front end \nwhen the send button is clicked, we need an event handler to send that message which is kept in a state variable through the \nwebsocket, and then clear the state variable\n*/\n\nconst socket = io(\"http://localhost:3001\");\n\nfunction Chat(props) {\n  const { username, country, chat, example_users } = props;\n\n  const navigate = useNavigate();\n\n  // State Variables for message in text box and messages array\n  const [message, setMessage] = useState(\"\");\n  const [chatMessages, setChatMessages] = useState([]);\n\n  function handleTextChange(e) {\n    setMessage(e.target.value);\n  }\n\n  useEffect(() => {\n    socket.on(\"connect\", () => {\n      socket.on(\"welcome\", (data) => {\n        console.log(data);\n      });\n\n      socket.emit(\"msg\", \"Message from Client\");\n    });\n\n    return () => {\n      socket.off(\"connect\");\n    };\n  }, []);\n\n  return (\n    <div>\n      <div className=\"container\">\n        <div className=\"item users\">\n          <div className=\"user-list-parent\">\n            <h2 className=\"users-header\">Users({example_users.length})</h2>\n            <div className=\"users-list\">\n              {example_users.map((user) => {\n                return <p>{user.username}</p>;\n              })}\n            </div>\n          </div>\n          <button\n            id=\"leave-button\"\n            onClick={() => {\n              navigate(\"/\");\n            }}\n          >\n            Leave Chat\n          </button>\n        </div>\n        <div className=\"item chat\">\n          <div className=\"chat-header item\">\n            <h2>Chat Name</h2>\n          </div>\n          <div className=\"chat-messages item\">Chat Messages</div>\n          <div className=\"chat-textbox item\">\n            <textarea\n              value={message}\n              placeholder=\"Type a message...\"\n              className=\"chat-inputbox item\"\n              onChange={handleTextChange}\n            />\n            <div className=\"send-button-div\">\n              <button id=\"send-button\">Send</button>\n            </div>\n          </div>\n        </div>\n        <div className=\"item chart\">\n          <Example />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport { Chat };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}